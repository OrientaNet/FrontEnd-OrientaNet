import{a as y}from"./chunk-IQ3746LX.js";import{ka as C,la as _}from"./chunk-4N2EQSX4.js";import{a as U,h as k,m as O,o as v}from"./chunk-QAOL6B3J.js";import{Bb as s,Cb as T,Eb as x,Ha as r,X as b,Ya as P,ab as p,ba as d,fa as u,fb as l,gb as e,gc as M,hb as S,ib as c,ic as g,jb as m,nb as I,pb as f,zb as n}from"./chunk-UDMOMI4Z.js";var h=class t{baseURL=`${O.baseURL}/resultadotest`;http=d(U);getResultadoTestByEstudianteId(a){return this.http.get(`${this.baseURL}/buscarPorUsuario/${a}`)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})};var E=class t{resultadoTest=null;resultadoTestService=d(h);authService=d(v);snackBar=d(C);ngOnInit(){this.loadResultadoTest()}loadResultadoTest(){let i=this.authService.getUser()?.id;i?this.resultadoTestService.getResultadoTestByEstudianteId(i).subscribe({next:o=>{this.resultadoTest=o,this.showSnackBar("Resultado del test cargado con \xE9xito")},error:()=>{this.showSnackBar("Error al cargar el resultado del test")}}):this.showSnackBar("Usuario no autenticado")}showSnackBar(a){this.snackBar.open(a,"Cerrar",{duration:3e3,verticalPosition:"top"})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=u({type:t,selectors:[["app-resultado-test"]],standalone:!0,features:[x],decls:20,vars:4,consts:[[1,"resultado-test-container"],[1,"resultado-title"],[1,"resultado-details"]],template:function(i,o){i&1&&(l(0,"div",0)(1,"h2",1),n(2,"Resultado del Test Vocacional"),e(),l(3,"div",2)(4,"p")(5,"strong"),n(6,"Recomendaci\xF3n:"),e(),n(7),e(),l(8,"p")(9,"strong"),n(10,"Nombre de la Prueba:"),e(),n(11),e(),l(12,"p")(13,"strong"),n(14,"ID de la Carrera:"),e(),n(15),e(),l(16,"p")(17,"strong"),n(18,"ID del Estudiante:"),e(),n(19),e()()()),i&2&&(r(7),s(" ",o.resultadoTest==null?null:o.resultadoTest.recomendacion,""),r(4),s(" ",o.resultadoTest==null?null:o.resultadoTest.pruebaNombre,""),r(4),s(" ",o.resultadoTest==null?null:o.resultadoTest.carreraId,""),r(4),s(" ",o.resultadoTest==null?null:o.resultadoTest.estudianteId,""))},dependencies:[g,_],styles:[".resultado-test-container[_ngcontent-%COMP%]{background-color:#fffaf0;border:1px solid #f5c6c6;border-radius:8px;padding:20px;margin:20px 0;box-shadow:0 2px 5px #0000001a}.resultado-title[_ngcontent-%COMP%]{font-size:24px;color:#e53935;margin-bottom:15px}.resultado-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-size:16px;color:#333}.no-resultado[_ngcontent-%COMP%]{color:#666;font-style:italic;text-align:center;margin-top:20px}"]})};function D(t,a){if(t&1&&(c(0),l(1,"p")(2,"strong"),n(3,"Informaci\xF3n Personal:"),e(),n(4),e(),m()),t&2){let i=f();r(4),s(" ",i.profile.informacionPersonal,"")}}function N(t,a){if(t&1&&(c(0),l(1,"p")(2,"strong"),n(3,"Nivel Acad\xE9mico:"),e(),n(4),e(),m()),t&2){let i=f();r(4),s(" ",i.profile.nivelAcademico,"")}}function z(t,a){if(t&1&&(c(0),l(1,"p")(2,"strong"),n(3,"Instituci\xF3n:"),e(),n(4),e(),m()),t&2){let i=f();r(4),s(" ",i.profile.institucion,"")}}function F(t,a){if(t&1&&(c(0),l(1,"p")(2,"strong"),n(3,"Intereses:"),e(),n(4),e(),m()),t&2){let i=f();r(4),s(" ",i.profile.intereses,"")}}function A(t,a){if(t&1&&(c(0),l(1,"p")(2,"strong"),n(3,"Carrera de Inter\xE9s:"),e(),n(4),e(),m()),t&2){let i=f();r(4),s(" ",i.profile.carreraInteres,"")}}function j(t,a){if(t&1&&(c(0),l(1,"p")(2,"strong"),n(3,"Experiencia:"),e(),n(4),e(),m()),t&2){let i=f();r(4),s(" ",i.profile.experiencia,"")}}function L(t,a){if(t&1&&(c(0),l(1,"p")(2,"strong"),n(3,"Certificaciones:"),e(),n(4),e(),m()),t&2){let i=f();r(4),s(" ",i.profile.certificaciones,"")}}function $(t,a){if(t&1&&(c(0),l(1,"p")(2,"strong"),n(3,"Carrera:"),e(),n(4),e(),m()),t&2){let i=f();r(4),s(" ",i.profile.carrera,"")}}function H(t,a){t&1&&(l(0,"div"),S(1,"hr",7),e())}function V(t,a){t&1&&(l(0,"div",8),S(1,"app-resultado-test"),e())}var B=class t{profile;isEstudiante=!1;userProfileService=d(y);authService=d(v);router=d(k);snackBar=d(C);ngOnInit(){this.loadUserProfile()}checkUserRole(){let a=this.authService.getUser();this.isEstudiante=a?.role==="ESTUDIANTE"}loadUserProfile(){let i=this.authService.getUser()?.id;i?this.userProfileService.getUserProfile(i).subscribe({next:o=>{this.profile=o,this.showSnackBar("Perfil cargado con \xE9xito")},error:()=>{this.showSnackBar("Error al cargar el perfil")}}):(this.showSnackBar("Usuario no autenticado"),this.router.navigate(["/auth/login"]))}redirectToUpdateProfile(){this.router.navigate(["/estudiante/profile/update"])}showSnackBar(a){this.snackBar.open(a,"Cerrar",{duration:3e3,verticalPosition:"top"})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=u({type:t,selectors:[["app-user-profile"]],standalone:!0,features:[x],decls:29,vars:14,consts:[[1,"profile-container"],[1,"profile-title"],[1,"profile-details"],[4,"ngIf"],[1,"button-container"],[1,"btn-update",3,"click"],["class","resultados-container",4,"ngIf"],[1,"section-divider"],[1,"resultados-container"]],template:function(i,o){i&1&&(l(0,"div",0)(1,"h2",1),n(2,"Perfil de Usuario"),e(),l(3,"div",2)(4,"p")(5,"strong"),n(6,"Nombre:"),e(),n(7),e(),l(8,"p")(9,"strong"),n(10,"Email:"),e(),n(11),e(),l(12,"p")(13,"strong"),n(14,"Rol:"),e(),n(15),e(),P(16,D,5,1,"ng-container",3)(17,N,5,1,"ng-container",3)(18,z,5,1,"ng-container",3)(19,F,5,1,"ng-container",3)(20,A,5,1,"ng-container",3)(21,j,5,1,"ng-container",3)(22,L,5,1,"ng-container",3)(23,$,5,1,"ng-container",3),e(),l(24,"div",4)(25,"button",5),I("click",function(){return o.redirectToUpdateProfile()}),n(26,"Actualizar Perfil"),e()()(),P(27,H,2,0,"div",3)(28,V,2,0,"div",6)),i&2&&(r(7),T(" ",o.profile.nombre," ",o.profile.apellido,""),r(4),s(" ",o.profile.email,""),r(4),s(" ",o.profile.role,""),r(),p("ngIf",o.profile.informacionPersonal),r(),p("ngIf",o.profile.nivelAcademico),r(),p("ngIf",o.profile.institucion),r(),p("ngIf",o.profile.intereses),r(),p("ngIf",o.profile.carreraInteres),r(),p("ngIf",o.profile.experiencia),r(),p("ngIf",o.profile.certificaciones),r(),p("ngIf",o.profile.carrera),r(4),p("ngIf",o.isEstudiante),r(),p("ngIf",o.isEstudiante))},dependencies:[g,M,_,E],styles:[".profile-container[_ngcontent-%COMP%]{max-width:600px;margin:20px auto;padding:20px;background-color:#fffaf0;border:1px solid #f5c6c6;border-radius:10px;box-shadow:0 4px 10px #0000001a}.profile-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#e53935;text-align:center;margin-bottom:20px}.profile-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:10px 0;color:#333}.profile-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#e53935}.button-container[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.btn-update[_ngcontent-%COMP%]{background-color:#e53935;color:#fff;padding:10px 20px;font-size:16px;border:none;border-radius:5px;cursor:pointer;transition:all .3s ease}.btn-update[_ngcontent-%COMP%]:hover{background-color:#d32f2f}@media (max-width: 768px){.profile-container[_ngcontent-%COMP%]{padding:15px}.profile-title[_ngcontent-%COMP%]{font-size:20px}.profile-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.btn-update[_ngcontent-%COMP%]{font-size:14px;padding:8px 15px}.section-divider[_ngcontent-%COMP%]{margin:40px 0;border:none;height:1px;background-color:#f5c6c6}.resultados-container[_ngcontent-%COMP%]{background-color:#fef7e6;padding:20px;border-radius:10px;box-shadow:0 4px 6px #0000001a}}"]})};export{E as a,B as b};
